<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste SuperNetos</title>
  </head>
  <body>
    <h1>Teste de Carregamento de Recursos</h1>

    <div id="teste-resultados">
      <h2>Verificando arquivos...</h2>
    </div>

    <script>
      function testarArquivo(url, tipo) {
        return new Promise((resolve) => {
          if (tipo === "css") {
            const link = document.createElement("link");
            link.rel = "stylesheet";
            link.href = url;
            link.onload = () => resolve({ url, status: "OK" });
            link.onerror = () => resolve({ url, status: "ERRO" });
            document.head.appendChild(link);
          } else if (tipo === "js") {
            const script = document.createElement("script");
            script.src = url;
            script.onload = () => resolve({ url, status: "OK" });
            script.onerror = () => resolve({ url, status: "ERRO" });
            document.head.appendChild(script);
          } else if (tipo === "img") {
            const img = new Image();
            img.onload = () => resolve({ url, status: "OK" });
            img.onerror = () => resolve({ url, status: "ERRO" });
            img.src = url;
          }
        });
      }

      async function executarTestes() {
        const arquivos = [
          { url: "src/estilos/global.css", tipo: "css" },
          { url: "src/estilos/pagina-inicial.css", tipo: "css" },
          { url: "src/scripts/globals.js", tipo: "js" },
          { url: "src/scripts/audio-manager.js", tipo: "js" },
          { url: "src/scripts/volume-control.js", tipo: "js" },
          {
            url: "src/recursos/imagens/interface/placa_supernetos.png",
            tipo: "img",
          },
          {
            url: "src/recursos/imagens/interface/botao_iniciar.png",
            tipo: "img",
          },
          {
            url: "src/recursos/imagens/interface/start_background.jpeg",
            tipo: "img",
          },
          { url: "src/recursos/audio/background_music.mp3", tipo: "img" },
          { url: "src/recursos/audio/favicon.ico", tipo: "img" },
        ];

        const resultados = [];
        for (const arquivo of arquivos) {
          const resultado = await testarArquivo(arquivo.url, arquivo.tipo);
          resultados.push(resultado);
        }

        const div = document.getElementById("teste-resultados");
        div.innerHTML = "<h2>Resultados do Teste:</h2>";

        resultados.forEach((resultado) => {
          const p = document.createElement("p");
          p.style.color = resultado.status === "OK" ? "green" : "red";
          p.textContent = `${resultado.url}: ${resultado.status}`;
          div.appendChild(p);
        });
      }

      executarTestes();
    </script>
  </body>
</html>
